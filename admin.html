<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>Delta Support — Admin Updates</title>
<meta name="robots" content="noindex, nofollow">
<meta name="theme-color" content="#000000">

<style>
:root{
  --bg:#050505;
  --border:rgba(255,255,255,.10);
  --text:#f5f5f5;
  --muted:#a3a3a3;
  --red:#ef4444;
  --red2:#b91c1c;
  --shadow: 0 0 55px rgba(0,0,0,.85);
}

*{ box-sizing:border-box; font-family: system-ui, -apple-system, Segoe UI, Roboto, Arial; }
body{
  margin:0;
  color:var(--text);
  background:
    radial-gradient(900px 420px at 20% 0%, rgba(239,68,68,.18), transparent 60%),
    radial-gradient(circle at top, #141414, var(--bg));
}
.wrap{ max-width:980px; margin:0 auto; padding:24px 16px 60px; }

.header{
  border:1px solid var(--border);
  border-radius:18px;
  background: linear-gradient(180deg, rgba(255,255,255,.06), rgba(255,255,255,.02));
  box-shadow: var(--shadow);
  padding:16px;
}
h1{ margin:0 0 6px; font-size:22px; }
p{ margin:0; color:var(--muted); line-height:1.6; font-size:13px; }

.grid{
  margin-top:16px;
  display:grid;
  grid-template-columns: 1fr 1fr;
  gap:14px;
}
@media (max-width: 900px){ .grid{ grid-template-columns:1fr; } }

.card{
  border:1px solid var(--border);
  border-radius:18px;
  background: rgba(0,0,0,.18);
  padding:16px;
  box-shadow: 0 0 30px rgba(0,0,0,.35);
}
.label{ display:block; font-size:12px; color:var(--muted); margin-bottom:6px; }
input, textarea, select{
  width:100%;
  padding:12px 12px;
  border-radius:14px;
  border:1px solid rgba(255,255,255,.12);
  background: rgba(0,0,0,.25);
  color: var(--text);
  outline:none;
}
input:focus, textarea:focus, select:focus{ box-shadow: 0 0 0 3px rgba(239,68,68,.18); border-color: rgba(239,68,68,.35); }
textarea{ min-height:120px; resize: vertical; }

.btn{
  display:inline-block;
  padding:12px 14px;
  border-radius:14px;
  border:1px solid rgba(255,255,255,.12);
  background: linear-gradient(135deg, var(--red), var(--red2));
  color:white;
  font-weight:850;
  text-decoration:none;
  cursor:pointer;
  transition: transform .18s ease, box-shadow .18s ease;
}
.btn:hover{ transform: translateY(-2px); box-shadow: 0 0 38px rgba(239,68,68,.55); }

.btnSoft{
  background: rgba(255,255,255,.06);
  font-weight:800;
}
.btnRow{ display:flex; gap:10px; flex-wrap:wrap; margin-top:12px; }

.preview{
  display:grid;
  gap:12px;
  margin-top:12px;
}
.item{
  border:1px solid rgba(255,255,255,.10);
  border-radius:18px;
  padding:14px;
  background: rgba(0,0,0,.18);
}
.meta{ display:flex; flex-wrap:wrap; gap:10px; align-items:center; margin-bottom:8px; color:var(--muted); font-size:12px; }
.badge{
  padding:6px 10px;
  border-radius:999px;
  border:1px solid rgba(255,255,255,.10);
  background: rgba(239,68,68,.14);
  color:#fecaca;
  font-weight:900;
}
.badgeNew{
  background: rgba(239,68,68,.25);
  border-color: rgba(239,68,68,.35);
  color:white;
  font-weight:900;
}
.title{ margin:0 0 6px; font-size:16px; font-weight:900; }
.body{ margin:0; color:var(--muted); font-size:13px; line-height:1.7; }

.codeBox{
  width:100%;
  min-height:220px;
  padding:12px;
  border-radius:14px;
  border:1px solid rgba(255,255,255,.12);
  background: rgba(0,0,0,.35);
  color: #f1f1f1;
  font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", monospace;
  font-size:12px;
  white-space:pre;
  overflow:auto;
}
.small{ color:var(--muted); font-size:12px; margin-top:10px; line-height:1.6; }
hr{ border:none; border-top:1px solid rgba(255,255,255,.08); margin:12px 0; }
</style>
</head>

<body>
  <div class="wrap">
    <div class="header">
      <h1>Admin Updates</h1>
      <p>
        This tool creates update posts for <b>deltaupdates.html</b>. It saves your draft in your browser and can export the HTML block.
        (To publish to everyone automatically, you’d need a backend/database — this is the safe “no-backend” method.)
      </p>
    </div>

    <div class="grid">
      <div class="card">
        <label class="label">Badge (ex: v2.705, Support, Notice)</label>
        <input id="badge" placeholder="v2.705" />

        <div style="height:10px;"></div>

        <label class="label">Posted date (YYYY-MM-DD)</label>
        <input id="date" placeholder="2026-01-22" />

        <div style="height:10px;"></div>

        <label class="label">Display date text (ex: Jan 22, 2026)</label>
        <input id="displayDate" placeholder="Jan 22, 2026" />

        <div style="height:10px;"></div>

        <label class="label">Title</label>
        <input id="title" placeholder="Short update title" />

        <div style="height:10px;"></div>

        <label class="label">Body</label>
        <textarea id="body" placeholder="Write the update in your own words..."></textarea>

        <div class="btnRow">
          <button class="btn" id="add">Add Update</button>
          <button class="btn btnSoft" id="clear">Clear Draft</button>
        </div>

        <p class="small">
          Tip: NEW badges on the live Updates page are automatic (based on the date). You don’t need to type “NEW”.
        </p>
      </div>

      <div class="card">
        <div style="display:flex; align-items:center; justify-content:space-between; gap:12px;">
          <div>
            <div style="font-weight:900; font-size:16px;">Preview</div>
            <div class="small">Newest entries appear first.</div>
          </div>
          <button class="btn btnSoft" id="export">Export HTML</button>
        </div>

        <div class="preview" id="preview"></div>

        <hr />

        <div style="font-weight:900; margin-bottom:8px;">Exported HTML (paste into deltaupdates.html)</div>
        <div class="codeBox" id="out" aria-label="exported html"></div>

        <p class="small">
          Paste the exported block inside: <br>
          <b>&lt;div class="list" id="updatesList"&gt; ... &lt;/div&gt;</b>
        </p>
      </div>
    </div>
  </div>

<script>
const KEY = "delta_admin_updates_v1";

function escapeHTML(s){
  return (s || "")
    .replaceAll("&","&amp;")
    .replaceAll("<","&lt;")
    .replaceAll(">","&gt;")
    .replaceAll('"',"&quot;")
    .replaceAll("'","&#39;");
}

function load(){
  try { return JSON.parse(localStorage.getItem(KEY) || "[]"); }
  catch { return []; }
}
function save(items){
  localStorage.setItem(KEY, JSON.stringify(items));
}

function render(){
  const items = load();
  const preview = document.getElementById("preview");
  const out = document.getElementById("out");
  preview.innerHTML = "";

  // Preview cards
  items.forEach(it => {
    const div = document.createElement("div");
    div.className = "item";
    div.innerHTML = `
      <div class="meta">
        <span class="badge">${escapeHTML(it.badge)}</span>
        <span class="badgeNew">NEW</span>
        <span>Posted: ${escapeHTML(it.displayDate)}</span>
      </div>
      <p class="title">${escapeHTML(it.title)}</p>
      <p class="body">${escapeHTML(it.body)}</p>
    `;
    preview.appendChild(div);
  });

  // Export HTML (matches deltaupdates.html format)
  const html = items.map(it => {
    return `
<div class="item" data-date="${escapeHTML(it.date)}">
  <div class="meta">
    <span class="badge">${escapeHTML(it.badge)}</span>
    <span class="badge newFlag" style="display:none;">NEW</span>
    <span>Posted: ${escapeHTML(it.displayDate)}</span>
  </div>
  <p class="title">${escapeHTML(it.title)}</p>
  <p class="body">
    ${escapeHTML(it.body)}
  </p>
</div>`.trim();
  }).join("\n\n");

  out.textContent = html || "(No updates yet — add one on the left.)";
}

function addUpdate(){
  const badge = document.getElementById("badge").value.trim();
  const date = document.getElementById("date").value.trim();
  const displayDate = document.getElementById("displayDate").value.trim();
  const title = document.getElementById("title").value.trim();
  const body = document.getElementById("body")
